#compdef repoctl

local packages repoctl_commands

# TODO: add options and add filter criteria for filter command.
repoctl_commands=(
    add:"copy and add packages to the repository"
    down:"download and extract tarballs from AUR"
    help:"help about any command"
    list:"list packages that belong to the managed repository"
    new:"create a new repository or configuration file"
    remove:"remove and delete packages from the database"
    reset:"recreate repository database"
    status:"show pending changes and packages that can be upgraded"
    update:"update database in repository"
    version:"show version and date information"
)

_describe -t command "repoctl commands" repoctl_commands

if [ $(id -u) -ne 0 ]; then
    packages=($(repols fs))
    compadd -d $packages
fi

